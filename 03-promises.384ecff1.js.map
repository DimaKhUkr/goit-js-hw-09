{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGeC,SAASC,cAAc,SAE/BC,iBAAiB,UAExB,SAAoBC,GAClBA,EAAEC,iBAEF,MAAMC,OAAEA,EAAMC,KAAEA,EAAIC,MAAEA,GAAUJ,EAAEK,cAAcC,SAEhD,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAOM,MAAOD,IAAK,CACrC,MAAME,EAAeF,EAAIG,OAAOP,EAAKK,OAASE,OAAON,EAAMI,QAK/D,SAAuBG,EAAUP,GAC/B,OAAO,IAAIQ,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEF,E,MAAUP,IAEpBU,EAAO,C,SAAEH,E,MAAUP,GAAQ,GAE5BA,EAAM,G,EAKXe,CAlBaZ,EAAGE,GAmBbW,MAAK,EAACT,SAAEA,EAAQP,MAAEA,OAYvB,SAAiBO,EAAUP,GACzBiB,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAqBZ,QAAeP,M,CAZxDoB,CAAQb,EAAUP,EAAM,IAEzBqB,OAAM,EAACd,SAAEA,EAAQP,MAAEA,OAKxB,SAAeO,EAAUP,GACvBiB,EAAA1B,GAAS2B,OAAOI,QAAQ,sBAAoBf,QAAiBP,M,CALzDuB,CAAMhB,EAAUP,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', OnBtnClick);\n\nfunction OnBtnClick(e) {\n  e.preventDefault();\n\n  const { amount, step, delay } = e.currentTarget.elements;\n\n  for (let i = 0; i < amount.value; i++) {\n    const delayCounter = i * Number(step.value) + Number(delay.value);\n    runPromise(i, delayCounter);\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction runPromise(quantity, delay) {\n  createPromise(quantity, delay)\n    .then(({ position, delay }) => {\n      success(position, delay);\n    })\n    .catch(({ position, delay }) => {\n      error(position, delay);\n    });\n}\n\nfunction error(position, delay) {\n  Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n\nfunction success(position, delay) {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n"],"names":["$7Y9D8","parcelRequire","document","querySelector","addEventListener","e","preventDefault","amount","step","delay","currentTarget","elements","i","value","delayCounter","Number","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","$47d4ff9957288465$var$success","catch","failure","$47d4ff9957288465$var$error"],"version":3,"file":"03-promises.384ecff1.js.map"}